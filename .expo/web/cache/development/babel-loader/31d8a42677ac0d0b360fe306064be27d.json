{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport { AT_DEC, AT_DEL, AT_INC } from \"../actions\";\n\nvar product = function product(state, action) {\n  var newState;\n\n  switch (action.type) {\n    case AT_INC:\n      newState = _extends({}, state);\n      newState.count++;\n      return newState;\n\n    case AT_DEC:\n      newState = _extends({}, state);\n      newState.count--;\n\n      if (newState.count < 0) {\n        newState.count = 0;\n      }\n\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nvar defState = [{\n  id: 1,\n  name: 'Велосипед',\n  count: 5\n}, {\n  id: 2,\n  name: 'Самокат',\n  count: 3\n}, {\n  id: 3,\n  name: 'Ролики',\n  count: 7\n}];\n\nvar storemanager = function storemanager() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var productIndex;\n  var changedProduct;\n  var newState;\n  var newStateArray = [];\n\n  switch (action.type) {\n    case AT_INC:\n      productIndex = getStateIndexByID(state, action.id);\n      changedProduct = product(state[productIndex], action);\n      newState = _extends({}, state);\n      newStateArray = [];\n\n      for (var i = 0; i < state.length; i++) {\n        newStateArray.push(newState[i]);\n      }\n\n      newStateArray[productIndex] = changedProduct;\n      return newStateArray;\n\n    case AT_DEC:\n      productIndex = getStateIndexByID(state, action.id);\n      changedProduct = product(state[productIndex], action);\n      newState = _extends({}, state);\n      newStateArray = [];\n\n      for (var _i = 0; _i < state.length; _i++) {\n        newStateArray.push(newState[_i]);\n      }\n\n      newStateArray[productIndex] = changedProduct;\n      return newStateArray;\n\n    case AT_DEL:\n      newState = _extends({}, state);\n      newStateArray = [];\n\n      for (var _i2 = 0; _i2 < state.length; _i2++) {\n        if (_i2 === getStateIndexByID(state, action.id)) {\n          continue;\n        }\n\n        newStateArray.push(newState[_i2]);\n      }\n\n      return newStateArray;\n\n    default:\n      return state;\n  }\n};\n\nvar getStateIndexByID = function getStateIndexByID(state, id) {\n  for (var i = 0; i < state.length; i++) {\n    if (state[i].id === id) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nexport { product, storemanager };","map":{"version":3,"names":["AT_DEC","AT_DEL","AT_INC","product","state","action","newState","type","count","defState","id","name","storemanager","productIndex","changedProduct","newStateArray","getStateIndexByID","i","length","push"],"sources":["/Users/vm_corp./WebstormProjects/redux_lab6/reducer/index.js"],"sourcesContent":["import {AT_DEC, AT_DEL, AT_INC} from \"../actions\";\n\n\nconst product = (state, action) => {\n    let newState;\n    switch (action.type) {\n        case AT_INC:\n            newState = Object.assign({}, state);\n            newState.count++;\n\n            return newState;\n        case AT_DEC:\n            newState = Object.assign({}, state);\n            newState.count--;\n            if (newState.count < 0) {\n                newState.count = 0;\n            }\n            return newState;\n        default:\n            return state;\n    }\n}\n\nconst defState = [\n    {id: 1, name: 'Велосипед', count: 5},\n    {id: 2, name: 'Самокат', count: 3},\n    {id: 3, name: 'Ролики', count: 7}\n]\n\nconst storemanager = (state = defState, action) => {\n    let productIndex;\n    let changedProduct;\n    let newState;\n    let newStateArray = [];\n\n    switch (action.type) {\n        case AT_INC:\n            productIndex = getStateIndexByID(state, action.id);\n            changedProduct = product(state[productIndex], action);\n            newState = Object.assign({}, state);\n            newStateArray = [];\n            for (let i = 0; i < state.length; i++) {\n                newStateArray.push(newState[i])\n            }\n            newStateArray[productIndex] = changedProduct;\n            return newStateArray;\n        case AT_DEC:\n            productIndex = getStateIndexByID(state, action.id);\n            changedProduct = product(state[productIndex], action);\n            newState = Object.assign({}, state);\n            newStateArray = [];\n            for (let i = 0; i < state.length; i++) {\n                newStateArray.push(newState[i])\n            }\n            newStateArray[productIndex] = changedProduct;\n            return newStateArray;\n        case AT_DEL:\n            newState = Object.assign({}, state);\n            newStateArray = [];\n            for (let i = 0; i < state.length; i++) {\n                if (i === getStateIndexByID(state, action.id)) {\n                    continue;\n                }\n                newStateArray.push(newState[i])\n            }\n            return newStateArray;\n        default:\n            return state;\n    }\n}\nconst getStateIndexByID = (state, id) => {\n    for (let i = 0; i < state.length; i++) {\n        if (state[i].id === id) {\n            return i;\n        }\n    }\n    return -1;\n}\n\n\nexport {product, storemanager}"],"mappings":"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"},"metadata":{},"sourceType":"module"}